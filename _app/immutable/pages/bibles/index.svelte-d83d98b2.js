import{a4 as fe,S as _e,i as pe,s as me,I as ve,J as be,l as w,X as re,a as $,w as ge,m as E,n as p,Y as oe,h as u,c as H,x as we,p as o,b as q,Z as t,y as Ee,K as ke,f as ye,t as De,B as Te,N as ne,r as I,u as V,v as X,E as xe,e as ie,_ as $e,F as He}from"../../chunks/index-07b03d27.js";import{D as Re,f as de}from"../../chunks/filters-e4f258e6.js";import{t as Ae}from"../../chunks/index-c29db15e.js";import"../../chunks/index-bf44e554.js";import"../../chunks/common-de7d3a20.js";import"../../chunks/resolve-button-type-300c4ea8.js";import"../../chunks/preload-helper-c28b9807.js";const Ie=()=>{const s=fe("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session,updated:s.updated}},Ve={subscribe(s){return Ie().page.subscribe(s)}};function ce(s,e,l){const r=s.slice();return r[9]=e[l],r}function ue(s){let e,l=s[3],r=[];for(let n=0;n<l.length;n+=1)r[n]=he(ce(s,l,n));return{c(){for(let n=0;n<r.length;n+=1)r[n].c();e=ie()},l(n){for(let c=0;c<r.length;c+=1)r[c].l(n);e=ie()},m(n,c){for(let a=0;a<r.length;a+=1)r[a].m(n,c);q(n,e,c)},p(n,c){if(c&8){l=n[3];let a;for(a=0;a<l.length;a+=1){const k=ce(n,l,a);r[a]?r[a].p(k,c):(r[a]=he(k),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=l.length}},d(n){$e(r,n),n&&u(e)}}}function he(s){var G;let e,l,r=s[9].id+"",n,c,a,k,_=s[9].ln+"",y,R,d,h=s[9].iso+"",i,D,T,m,M,j=s[9].tt+"",A,N,C,S=((G=s[9].tv)!=null?G:"")+"",B,g,v,f,F=s[9].ci+"",L,U,z,J=s[9].dt+"",O,Y;return{c(){e=w("tr"),l=w("td"),n=I(r),c=$(),a=w("td"),k=w("div"),y=I(_),R=$(),d=w("div"),i=I(h),D=$(),T=w("td"),m=w("a"),M=w("div"),A=I(j),N=$(),C=w("div"),B=I(S),v=$(),f=w("td"),L=I(F),U=$(),z=w("td"),O=I(J),Y=$(),this.h()},l(x){e=E(x,"TR",{class:!0});var b=p(e);l=E(b,"TD",{class:!0});var K=p(l);n=V(K,r),K.forEach(u),c=H(b),a=E(b,"TD",{class:!0});var P=p(a);k=E(P,"DIV",{class:!0});var Q=p(k);y=V(Q,_),Q.forEach(u),R=H(P),d=E(P,"DIV",{class:!0});var W=p(d);i=V(W,h),W.forEach(u),P.forEach(u),D=H(b),T=E(b,"TD",{class:!0});var ee=p(T);m=E(ee,"A",{href:!0,class:!0});var Z=p(m);M=E(Z,"DIV",{class:!0});var te=p(M);A=V(te,j),te.forEach(u),N=H(Z),C=E(Z,"DIV",{class:!0});var ae=p(C);B=V(ae,S),ae.forEach(u),Z.forEach(u),ee.forEach(u),v=H(b),f=E(b,"TD",{class:!0});var se=p(f);L=V(se,F),se.forEach(u),U=H(b),z=E(b,"TD",{class:!0});var le=p(z);O=V(le,J),le.forEach(u),Y=H(b),b.forEach(u),this.h()},h(){o(l,"class","dark:white hidden whitespace-nowrap px-6 py-4 text-stone-900"),o(k,"class","text-sm text-stone-900 dark:text-white"),o(d,"class","text-xs italic text-stone-500 dark:text-stone-400"),o(a,"class","whitespace-nowrap px-6 py-4 text-stone-900"),o(M,"class","max-w-sm overflow-hidden text-ellipsis text-sm"),o(C,"class","max-w-sm overflow-hidden text-ellipsis text-sm text-stone-600 dark:text-stone-400"),o(m,"href",g="/bibles/"+s[9].id),o(m,"class","text-primary-700 hover:underline dark:text-white"),o(T,"class","px-6 py-4"),o(f,"class","hidden whitespace-nowrap px-6 py-4 text-stone-900"),o(z,"class","hidden whitespace-nowrap px-6 py-4 text-stone-900 md:table-cell"),o(e,"class","h-12")},m(x,b){q(x,e,b),t(e,l),t(l,n),t(e,c),t(e,a),t(a,k),t(k,y),t(a,R),t(a,d),t(d,i),t(e,D),t(e,T),t(T,m),t(m,M),t(M,A),t(m,N),t(m,C),t(C,B),t(e,v),t(e,f),t(f,L),t(e,U),t(e,z),t(z,O),t(e,Y)},p(x,b){var K;b&8&&r!==(r=x[9].id+"")&&X(n,r),b&8&&_!==(_=x[9].ln+"")&&X(y,_),b&8&&h!==(h=x[9].iso+"")&&X(i,h),b&8&&j!==(j=x[9].tt+"")&&X(A,j),b&8&&S!==(S=((K=x[9].tv)!=null?K:"")+"")&&X(B,S),b&8&&g!==(g="/bibles/"+x[9].id)&&o(m,"href",g),b&8&&F!==(F=x[9].ci+"")&&X(L,F),b&8&&J!==(J=x[9].dt+"")&&X(O,J)},d(x){x&&u(e)}}}function Be(s){let e,l,r,n,c,a,k,_,y=s[2]("common.language")+"",R,d,h,i=s[2]("common.title")+"",D,T,m,M,j,A,N=s[2]("common.date")+"",C,S,B,g=s[1]&&ue(s);return{c(){e=w("thead"),l=w("th"),r=I("id"),n=$(),c=w("th"),a=I("file_set"),k=$(),_=w("th"),R=I(y),d=$(),h=w("th"),D=I(i),T=$(),m=w("th"),M=I("country id"),j=$(),A=w("th"),C=I(N),S=$(),B=w("tbody"),g&&g.c(),this.h()},l(v){e=E(v,"THEAD",{});var f=p(e);l=E(f,"TH",{"data-name":!0,"data-key":!0,class:!0});var F=p(l);r=V(F,"id"),F.forEach(u),n=H(f),c=E(f,"TH",{"data-name":!0,"data-key":!0,class:!0});var L=p(c);a=V(L,"file_set"),L.forEach(u),k=H(f),_=E(f,"TH",{"data-name":!0,"data-key":!0,class:!0});var U=p(_);R=V(U,y),U.forEach(u),d=H(f),h=E(f,"TH",{"data-name":!0,"data-key":!0,class:!0});var z=p(h);D=V(z,i),z.forEach(u),T=H(f),m=E(f,"TH",{"data-name":!0,"data-key":!0,class:!0});var J=p(m);M=V(J,"country id"),J.forEach(u),j=H(f),A=E(f,"TH",{"data-name":!0,"data-key":!0,class:!0});var O=p(A);C=V(O,N),O.forEach(u),f.forEach(u),S=H(v),B=E(v,"TBODY",{});var Y=p(B);g&&g.l(Y),Y.forEach(u),this.h()},h(){o(l,"data-name","id"),o(l,"data-key","id"),o(l,"class","hidden"),o(c,"data-name","file_set"),o(c,"data-key","fs"),o(c,"class","hidden"),o(_,"data-name","language"),o(_,"data-key","(row) => row.ln + ' ' + row.iso"),o(_,"class","sortable"),o(h,"data-name","title"),o(h,"data-key","(row) => row.tt + ' ' + row.tv"),o(h,"class","sortable"),o(m,"data-name","country_id"),o(m,"data-key","ci"),o(m,"class","hidden"),o(A,"data-name","date"),o(A,"data-key","dt"),o(A,"class","sortable hidden md:table-cell")},m(v,f){q(v,e,f),t(e,l),t(l,r),t(e,n),t(e,c),t(c,a),t(e,k),t(e,_),t(_,R),t(e,d),t(e,h),t(h,D),t(e,T),t(e,m),t(m,M),t(e,j),t(e,A),t(A,C),q(v,S,f),q(v,B,f),g&&g.m(B,null)},p(v,f){f&4&&y!==(y=v[2]("common.language")+"")&&X(R,y),f&4&&i!==(i=v[2]("common.title")+"")&&X(D,i),f&4&&N!==(N=v[2]("common.date")+"")&&X(C,N),v[1]?g?g.p(v,f):(g=ue(v),g.c(),g.m(B,null)):g&&(g.d(1),g=null)},d(v){v&&u(e),v&&u(S),v&&u(B),g&&g.d()}}}function Ce(s){let e,l,r,n,c,a,k,_;function y(d){s[5](d)}let R={classList:"relative",data:s[0],settings:s[4],$$slots:{default:[Be]},$$scope:{ctx:s}};return s[1]!==void 0&&(R.dataRows=s[1]),a=new Re({props:R}),ve.push(()=>be(a,"dataRows",y)),{c(){e=w("div"),l=w("a"),r=re("svg"),n=re("path"),c=$(),ge(a.$$.fragment),this.h()},l(d){e=E(d,"DIV",{class:!0});var h=p(e);l=E(h,"A",{href:!0,class:!0});var i=p(l);r=oe(i,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var D=p(r);n=oe(D,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),p(n).forEach(u),D.forEach(u),i.forEach(u),c=H(h),we(a.$$.fragment,h),h.forEach(u),this.h()},h(){o(n,"fill-rule","evenodd"),o(n,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z"),o(n,"clip-rule","evenodd"),o(r,"xmlns","http://www.w3.org/2000/svg"),o(r,"class","h-10 w-10"),o(r,"viewBox","0 0 20 20"),o(r,"fill","currentColor"),o(l,"href","/map"),o(l,"class","text-green-500 absolute top-2 right-2 hover:text-green-800 rounded-full"),o(e,"class","relative mx-auto py-2 px-3 md:w-full")},m(d,h){q(d,e,h),t(e,l),t(l,r),t(r,n),t(e,c),Ee(a,e,null),_=!0},p(d,[h]){const i={};h&1&&(i.data=d[0]),h&4110&&(i.$$scope={dirty:h,ctx:d}),!k&&h&2&&(k=!0,i.dataRows=d[1],ke(()=>k=!1)),a.$set(i)},i(d){_||(ye(a.$$.fragment,d),_=!0)},o(d){De(a.$$.fragment,d),_=!1},d(d){d&&u(e),Te(a)}}}async function Le({fetch:s}){const l=await s("https://cdn.jsdelivr.net/gh/digitalbiblesociety/data//bibles_dbs.json");return l.ok?{props:{bibles:await l.json()}}:{status:l.status,error:new Error("Could not load bibles JSON")}}function Me(s,e,l){let r,n,c,a=xe,k=()=>(a(),a=He(d,i=>l(3,c=i)),d);ne(s,Ve,i=>l(6,r=i)),ne(s,Ae,i=>l(2,n=i)),s.$$.on_destroy.push(()=>a());let{bibles:_}=e;_=_.filter(function(i){return i.ci==="MX"});let y=r.url.searchParams.get("language");y&&(_=_.filter(function(i){let D=de.MX[0].options;for(let T=0;T<D.length;T++){const m=D[T];if(y==m.label)return m.value.split("|").includes(i.iso)}return!1}));const R={labels:{search:"Search",noRows:"",info:"{start} - {end} / {rows} ",previous:"<",next:">"},customFilters:y?[]:de.MX};let d;function h(i){d=i,k(l(1,d))}return s.$$set=i=>{"bibles"in i&&l(0,_=i.bibles)},[_,d,n,c,R,h]}class Oe extends _e{constructor(e){super(),pe(this,e,Me,Ce,me,{bibles:0})}}export{Oe as default,Le as load};
