import{S as J,i as Z,s as x,e as k,b as y,f as O,t as L,d as z,h as m,o as Q,l as I,a as V,m as v,n as T,c as j,p as b,Z as E,I as W,J as tt,w as et,x as at,y as st,K as lt,B as it,r as $,u as A,v as Y,g as ot,E as nt,_ as rt,$ as ct,a0 as ft,F as dt}from"../chunks/index-07b03d27.js";import{D as _t,f as ut}from"../chunks/filters-e4f258e6.js";import"../chunks/index-bf44e554.js";import"../chunks/common-de7d3a20.js";import"../chunks/resolve-button-type-300c4ea8.js";function q(o,a,l){const e=o.slice();return e[9]=a[l],e}function F(o){let a,l,e,t=ht(o);return{c(){a=I("div"),t&&t.c(),l=V(),this.h()},l(i){a=v(i,"DIV",{class:!0});var s=T(a);t&&t.l(s),l=j(s),s.forEach(m),this.h()},h(){b(a,"class","mx-auto w-4/5 pt-8")},m(i,s){y(i,a,s),t&&t.m(a,null),E(a,l),e=!0},p(i,s){t.p(i,s)},i(i){e||(O(t),e=!0)},o(i){L(t),e=!1},d(i){i&&m(a),t&&t.d()}}}function ht(o){let a,l,e;function t(s){o[7](s)}let i={classList:"relative",data:o[0],settings:o[4],$$slots:{default:[pt]},$$scope:{ctx:o}};return o[2]!==void 0&&(i.dataRows=o[2]),a=new _t({props:i}),W.push(()=>tt(a,"dataRows",t)),{c(){et(a.$$.fragment)},l(s){at(a.$$.fragment,s)},m(s,f){st(a,s,f),e=!0},p(s,f){const _={};f&1&&(_.data=s[0]),f&16398&&(_.$$scope={dirty:f,ctx:s}),!l&&f&4&&(l=!0,_.dataRows=s[2],lt(()=>l=!1)),a.$set(_)},i(s){e||(O(a.$$.fragment,s),e=!0)},o(s){L(a.$$.fragment,s),e=!1},d(s){it(a,s)}}}function G(o){let a,l=o[3],e=[];for(let t=0;t<l.length;t+=1)e[t]=K(q(o,l,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();a=k()},l(t){for(let i=0;i<e.length;i+=1)e[i].l(t);a=k()},m(t,i){for(let s=0;s<e.length;s+=1)e[s].m(t,i);y(t,a,i)},p(t,i){if(i&40){l=t[3];let s;for(s=0;s<l.length;s+=1){const f=q(t,l,s);e[s]?e[s].p(f,i):(e[s]=K(f),e[s].c(),e[s].m(a.parentNode,a))}for(;s<e.length;s+=1)e[s].d(1);e.length=l.length}},d(t){rt(e,t),t&&m(a)}}}function K(o){let a,l=o[5](o[9])+"",e;return{c(){a=new ct(!1),e=k(),this.h()},l(t){a=ft(t,!1),e=k(),this.h()},h(){a.a=e},m(t,i){a.m(l,t,i),y(t,e,i)},p(t,i){i&8&&l!==(l=t[5](t[9])+"")&&a.p(l)},d(t){t&&m(e),t&&a.d()}}}function pt(o){var B,C,N,H,M,U;let a,l,e=((N=(C=(B=o[1])==null?void 0:B.thead)==null?void 0:C.title)!=null?N:"title")+"",t,i,s,f,_,u,r=((U=(M=(H=o[1])==null?void 0:H.thead)==null?void 0:M.population)!=null?U:"population")+"",p,g,n,c=o[2]&&G(o);return{c(){a=I("thead"),l=I("th"),t=$(e),i=V(),s=I("th"),f=$("iso"),_=V(),u=I("th"),p=$(r),g=V(),n=I("tbody"),c&&c.c(),this.h()},l(d){a=v(d,"THEAD",{class:!0});var h=T(a);l=v(h,"TH",{"data-key":!0,class:!0});var w=T(l);t=A(w,e),w.forEach(m),i=j(h),s=v(h,"TH",{"data-name":!0,"data-key":!0,class:!0});var R=T(s);f=A(R,"iso"),R.forEach(m),_=j(h),u=v(h,"TH",{"data-key":!0,class:!0});var D=T(u);p=A(D,r),D.forEach(m),h.forEach(m),g=j(d),n=v(d,"TBODY",{});var S=T(n);c&&c.l(S),S.forEach(m),this.h()},h(){b(l,"data-key","(row) => row.tt + ' ' + row.iso"),b(l,"class","sortable"),b(s,"data-name","language"),b(s,"data-key","id"),b(s,"class","sortable hidden sm:table-cell"),b(u,"data-key","po"),b(u,"class","sortable"),b(a,"class","bg-gray-50 text-gray-600")},m(d,h){y(d,a,h),E(a,l),E(l,t),E(a,i),E(a,s),E(s,f),E(a,_),E(a,u),E(u,p),y(d,g,h),y(d,n,h),c&&c.m(n,null)},p(d,h){var w,R,D,S,P,X;h&2&&e!==(e=((D=(R=(w=d[1])==null?void 0:w.thead)==null?void 0:R.title)!=null?D:"title")+"")&&Y(t,e),h&2&&r!==(r=((X=(P=(S=d[1])==null?void 0:S.thead)==null?void 0:P.population)!=null?X:"population")+"")&&Y(p,r),d[2]?c?c.p(d,h):(c=G(d),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},d(d){d&&m(a),d&&m(g),d&&m(n),c&&c.d()}}}function mt(o){let a,l,e=o[0]&&F(o);return{c(){e&&e.c(),a=k()},l(t){e&&e.l(t),a=k()},m(t,i){e&&e.m(t,i),y(t,a,i),l=!0},p(t,[i]){t[0]?e?(e.p(t,i),i&1&&O(e,1)):(e=F(t),e.c(),O(e,1),e.m(a.parentNode,a)):e&&(ot(),L(e,1,1,()=>{e=null}),z())},i(t){l||(O(e),l=!0)},o(t){L(e),l=!1},d(t){e&&e.d(t),t&&m(a)}}}async function Tt({fetch:o}){const a="apc,ajp,cmn,fra,ita,jpn,kor,rus,por".split(","),l={VITE_SITE_TITLE:"Biblicos",VITE_SITE_PREFIX:"BIBLICOS",VITE_COUNTRY_SITE:"MX",VITE_I18N_LANGUAGES:"en,es",VITE_DBP_KEY:"809db3bd83c66f3bc41be0cbd6bd1e3f",VITE_COLOR_PRIMARY:"green",VITE_COLOR_SECONDARY:"emerald",VITE_ISO_EXCLUDED:"apc,ajp,cmn,fra,ita,jpn,kor,rus,por",VITE_BASE_API:"https://cdn.jsdelivr.net/gh/digitalbiblesociety/data/",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.VITE_ISO_INCLUDED,e="MX",t="https://cdn.jsdelivr.net/gh/digitalbiblesociety/data/";let s=await(await o(`${t}/countries/${e}.json`)).json(),_=await(await o(`${t}/bibles_dbs.json`)).json();_=_.map(r=>r.iso);let u=[];return s.languages.forEach(r=>{if(_.includes(r.iso)){let p={tt:r.name,tv:r.autonym,id:r.iso,po:r.population,ci:r.country_id,cn:s.name,bc:_.filter(g=>g==r.iso).length,rc:"",fc:""};l?l.split(",").includes(r.iso)&&u.push(p):a.includes(r.iso)||u.push(p)}}),console.log(u),{props:{languages:u}}}function bt(o,a,l){let e,t=nt,i=()=>(t(),t=dt(p,n=>l(3,e=n)),p);o.$$.on_destroy.push(()=>t());let{locale:s="en"}=a,{languages:f}=a,{translations:_}=a;const u={labels:{search:"Search",noRows:"",info:"{start} - {end} / {rows} ",previous:"<",next:">"},customFilters:ut.MX};Q(async()=>{});const r=(n,c)=>`
	<tr class="${n.bc+n.fc+n.rc>0?"":"opacity-40"}">
		<td class="whitespace-nowrap px-6 py-4 text-sm font-medium">
			<a href="/languages/${n.id}">
				<div class="text-sm text-gray-900 dark:text-gray-300">
					${n.tt}
				</div>
				<div class="text-xs text-gray-500">${n.tv}</div>
			</a>
		</td>
		<td class="hidden whitespace-nowrap text-sm sm:table-cell">
			${n.id}
		</td>
		<td>${n.po?n.po.toLocaleString(c):""}</td>
	</tr>`;let p;function g(n){p=n,i(l(2,p))}return o.$$set=n=>{"locale"in n&&l(6,s=n.locale),"languages"in n&&l(0,f=n.languages),"translations"in n&&l(1,_=n.translations)},[f,_,p,e,u,r,s,g]}class kt extends J{constructor(a){super(),Z(this,a,bt,mt,x,{locale:6,languages:0,translations:1})}}export{kt as default,Tt as load};
