import{S as Q,i as W,s as X,l as g,r as C,a as N,e as T,m as p,n as k,u as I,h as c,c as S,p as h,b,Z as d,v as U,E as j,_ as A,ab as D}from"../../chunks/index-07b03d27.js";function G(s,e,a){const t=s.slice();return t[3]=e[a],t}function O(s,e,a){const t=s.slice();return t[6]=e[a],t}function P(s,e,a){const t=s.slice();return t[6]=e[a],t}function R(s){var l;let e,a=((l=s[1].autonym)!=null?l:"")+"",t;return{c(){e=g("h2"),t=C(a),this.h()},l(n){e=p(n,"H2",{class:!0});var i=k(e);t=I(i,a),i.forEach(c),this.h()},h(){h(e,"class","text-gray-200")},m(n,i){b(n,e,i),d(e,t)},p(n,i){var f;i&2&&a!==(a=((f=n[1].autonym)!=null?f:"")+"")&&U(t,a)},d(n){n&&c(e)}}}function V(s){let e;function a(n,i){return n[1].translations.length>6?x:Y}let t=a(s),l=t(s);return{c(){l.c(),e=T()},l(n){l.l(n),e=T()},m(n,i){l.m(n,i),b(n,e,i)},p(n,i){t===(t=a(n))&&l?l.p(n,i):(l.d(1),l=t(n),l&&(l.c(),l.m(e.parentNode,e)))},d(n){l.d(n),n&&c(e)}}}function Y(s){let e,a=s[1].translations,t=[];for(let l=0;l<a.length;l+=1)t[l]=q(O(s,a,l));return{c(){e=g("small");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=p(l,"SMALL",{class:!0});var n=k(e);for(let i=0;i<t.length;i+=1)t[i].l(n);n.forEach(c),this.h()},h(){h(e,"class","text-gray-400")},m(l,n){b(l,e,n);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(l,n){if(n&2){a=l[1].translations;let i;for(i=0;i<a.length;i+=1){const f=O(l,a,i);t[i]?t[i].p(f,n):(t[i]=q(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){l&&c(e),A(t,l)}}}function x(s){let e,a=s[1].translations,t=[];for(let l=0;l<a.length;l+=1)t[l]=B(P(s,a,l));return{c(){e=g("small");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=p(l,"SMALL",{class:!0});var n=k(e);for(let i=0;i<t.length;i+=1)t[i].l(n);n.forEach(c),this.h()},h(){h(e,"class","sm-blur absolute inset-0 flex rotate-6 flex-wrap text-2xl text-gray-400 opacity-10")},m(l,n){b(l,e,n);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(l,n){if(n&2){a=l[1].translations;let i;for(i=0;i<a.length;i+=1){const f=P(l,a,i);t[i]?t[i].p(f,n):(t[i]=B(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){l&&c(e),A(t,l)}}}function q(s){let e,a=s[6].name+"",t;return{c(){e=g("span"),t=C(a),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=k(e);t=I(n,a),n.forEach(c),this.h()},h(){h(e,"class","px-4")},m(l,n){b(l,e,n),d(e,t)},p(l,n){n&2&&a!==(a=l[6].name+"")&&U(t,a)},d(l){l&&c(e)}}}function B(s){let e,a=s[6].name+"",t;return{c(){e=g("span"),t=C(a),this.h()},l(l){e=p(l,"SPAN",{class:!0});var n=k(e);t=I(n,a),n.forEach(c),this.h()},h(){h(e,"class","px-4")},m(l,n){b(l,e,n),d(e,t)},p(l,n){n&2&&a!==(a=l[6].name+"")&&U(t,a)},d(l){l&&c(e)}}}function $(s){let e;return{c(){e=C("Loading...")},l(a){e=I(a,"Loading...")},m(a,t){b(a,e,t)},p:j,d(a){a&&c(e)}}}function ee(s){let e,a=s[0]._embedded.mediaComponents,t=[];for(let l=0;l<a.length;l+=1)t[l]=Z(G(s,a,l));return{c(){e=g("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=p(l,"DIV",{class:!0});var n=k(e);for(let i=0;i<t.length;i+=1)t[i].l(n);n.forEach(c),this.h()},h(){h(e,"class","mx-auto mt-12 grid max-w-4xl grid-cols-4 gap-4")},m(l,n){b(l,e,n);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(l,n){if(n&5){a=l[0]._embedded.mediaComponents;let i;for(i=0;i<a.length;i+=1){const f=G(l,a,i);t[i]?t[i].p(f,n):(t[i]=Z(f),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=a.length}},d(l){l&&c(e),A(t,l)}}}function J(s){let e,a,t,l,n,i=s[3].title+"",f,y,u,_=z(s[3].lengthInMilliseconds)+"",w,E,m,r=s[3].imageUrls.mobileCinematicHigh&&K(s);return{c(){e=g("a"),a=g("figure"),r&&r.c(),t=N(),l=g("figcaption"),n=g("div"),f=C(i),y=N(),u=g("div"),w=C(_),E=N(),this.h()},l(o){e=p(o,"A",{class:!0,href:!0});var v=k(e);a=p(v,"FIGURE",{});var H=k(a);r&&r.l(H),t=S(H),l=p(H,"FIGCAPTION",{class:!0});var L=k(l);n=p(L,"DIV",{class:!0});var F=k(n);f=I(F,i),F.forEach(c),y=S(L),u=p(L,"DIV",{class:!0});var M=k(u);w=I(M,_),M.forEach(c),L.forEach(c),H.forEach(c),E=S(v),v.forEach(c),this.h()},h(){h(n,"class","text-lg lg:text-xl"),h(u,"class","mt-1 text-sm opacity-70 lg:mt-1.5 lg:text-base"),h(l,"class","absolute bottom-0 top-0 flex w-full flex-col place-items-center justify-center bg-black/40 text-center text-white hover:bg-black/80"),h(e,"class","relative overflow-hidden rounded"),h(e,"href",m="/films/watch/"+s[3].mediaComponentId+"___"+s[2])},m(o,v){b(o,e,v),d(e,a),r&&r.m(a,null),d(a,t),d(a,l),d(l,n),d(n,f),d(l,y),d(l,u),d(u,w),d(e,E)},p(o,v){o[3].imageUrls.mobileCinematicHigh?r?r.p(o,v):(r=K(o),r.c(),r.m(a,t)):r&&(r.d(1),r=null),v&1&&i!==(i=o[3].title+"")&&U(f,i),v&1&&_!==(_=z(o[3].lengthInMilliseconds)+"")&&U(w,_),v&5&&m!==(m="/films/watch/"+o[3].mediaComponentId+"___"+o[2])&&h(e,"href",m)},d(o){o&&c(e),r&&r.d()}}}function K(s){let e,a,t;return{c(){e=g("img"),this.h()},l(l){e=p(l,"IMG",{class:!0,alt:!0,src:!0}),this.h()},h(){h(e,"class","block w-full"),h(e,"alt",a=s[3].title),D(e.src,t=s[3].imageUrls.mobileCinematicHigh)||h(e,"src",t)},m(l,n){b(l,e,n)},p(l,n){n&1&&a!==(a=l[3].title)&&h(e,"alt",a),n&1&&!D(e.src,t=l[3].imageUrls.mobileCinematicHigh)&&h(e,"src",t)},d(l){l&&c(e)}}}function Z(s){let e,a=s[3].subType=="featureFilm"&&J(s);return{c(){a&&a.c(),e=T()},l(t){a&&a.l(t),e=T()},m(t,l){a&&a.m(t,l),b(t,e,l)},p(t,l){t[3].subType=="featureFilm"?a?a.p(t,l):(a=J(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&c(e)}}}function le(s){let e,a,t=s[1].name+"",l,n,i,f,y,u=s[1].name!=s[1].autonym&&R(s),_=s[1].translations&&V(s);function w(r,o){return r[0]?ee:$}let E=w(s),m=E(s);return{c(){e=g("section"),a=g("h1"),l=C(t),n=N(),u&&u.c(),i=N(),_&&_.c(),f=N(),m.c(),y=T(),this.h()},l(r){e=p(r,"SECTION",{class:!0});var o=k(e);a=p(o,"H1",{class:!0});var v=k(a);l=I(v,t),v.forEach(c),n=S(o),u&&u.l(o),i=S(o),_&&_.l(o),o.forEach(c),f=S(r),m.l(r),y=T(),this.h()},h(){h(a,"class","text-center text-4xl text-gray-100"),h(e,"class","relative flex h-48 flex-col place-items-center justify-center overflow-hidden bg-gray-800")},m(r,o){b(r,e,o),d(e,a),d(a,l),d(e,n),u&&u.m(e,null),d(e,i),_&&_.m(e,null),b(r,f,o),m.m(r,o),b(r,y,o)},p(r,[o]){o&2&&t!==(t=r[1].name+"")&&U(l,t),r[1].name!=r[1].autonym?u?u.p(r,o):(u=R(r),u.c(),u.m(e,i)):u&&(u.d(1),u=null),r[1].translations?_?_.p(r,o):(_=V(r),_.c(),_.m(e,null)):_&&(_.d(1),_=null),E===(E=w(r))&&m?m.p(r,o):(m.d(1),m=E(r),m&&(m.c(),m.m(y.parentNode,y)))},i:j,o:j,d(r){r&&c(e),u&&u.d(),_&&_.d(),r&&c(f),m.d(r),r&&c(y)}}}async function ie({params:s,fetch:e}){const a="https://cdn.jsdelivr.net/gh/digitalbiblesociety/data/",t=s.id.split("-")[0],l=s.id.split("-")[1],n=`https://api.arclight.org/v2/media-components?apiKey=52b06248a3c6e8.12980089&subTypes=featureFilm,shortFilm&languageIds=${l}&metadataLanguageTags=en`,i=await e(n),f=await e(`${a}/languages/${t}.json`);return i.ok?{props:{films:await i.json(),language:await f.json(),language_numeral_id:l}}:{status:i.status,error:new Error(`Could not load JSON for language: ${s.iso}`)}}function z(s){var e=new Date(s),a="";return a+=e.getUTCHours()+", ",a+=e.getUTCMinutes(),a}function te(s,e,a){let{films:t}=e,{language:l}=e,{language_numeral_id:n}=e;return s.$$set=i=>{"films"in i&&a(0,t=i.films),"language"in i&&a(1,l=i.language),"language_numeral_id"in i&&a(2,n=i.language_numeral_id)},[t,l,n]}class ne extends Q{constructor(e){super(),W(this,e,te,le,X,{films:0,language:1,language_numeral_id:2})}}export{ne as default,ie as load};
